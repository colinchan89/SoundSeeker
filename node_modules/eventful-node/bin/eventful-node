/*! eventful-node 07-10-2014 */
var xml2js=require("xml2js"),unirest=require("unirest"),eventful;!function(a){var b=function(){function a(a){this.app_key=a,this.base_url="http://api.eventful.com/rest/"}return a.prototype.searchEvents=function(a,b){var c=this.base_url+"events/search?app_key="+this.app_key;for(var d in a)c+="&",c+=d+"="+a[d];unirest.get(c,function(a,c){return c?b(c,null):void xml2js.parseString(a.body,{explicitArray:!1},function(a,c){return a?b(a,null):b(null,c)})})},a.prototype.listCategories=function(a){var b=this.base_url+"/categories/list?app_key="+this.app_key;unirest.get(b,function(b,c){return c?a(c,null):void xml2js.parseString(b.body,{explicitArray:!1},function(b,c){return b?a(b,null):a(null,c.categories.category)})})},a}();a.Client=b}(eventful||(eventful={})),module.exports=eventful;