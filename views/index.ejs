<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">

    <div class="carousel-inner" role="listbox">
      <div class="item active">
        <img src="http://i.picresize.com/images/2015/11/28/OFujy.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="http://images5.alphacoders.com/349/349660.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="http://wallpapercave.com/wp/WmUR1Xy.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="https://wallpaperscraft.com/image/walt_disney_concert_hall_los_angeles_california_usa_hdr_47907_1920x1080.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
    </div>

  <div class="centerstuff">

    <div class="mainPitch">
      <h1><span class="fa fa-lock"></span>SoundSeeker</h1>
      <h3 style="font-weight:200;font-size:40px;margin-top:-10px">Support Local Music</h3>
      <div class="form-group">
        <div class="col-md-6 col-centered">
          <label for="location">Enter Location</label>
          <input type="text" class="form-control" id="location" placeholder="City or Zip">
        </div><br>
        <div class="col-md-3 col-centered">
          <label for="radius">Search Radius (in miles)</label>
          <input type="number" class="form-control" min="1" max="20" step="1" value="10" id="radius">
        </div>
      </div>
      <button class="btn btn-default" id="showResults">Submit</button>
      <ul class="event-results"></ul>
    </div>
  </div>

    <!-- <div class="mainPitch" style="position:absolute; top:50px;">
     <div class="container">
       <div class="row">
         <div class="col-xs-6" style="text-align:center;">
           <h1>Reach  out  to  Apartment  Residents</h1>
           <h3>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </h3>
           <div class="mainAction"><a class="btn btn-danger" href="">a</a><a class="btn btn-success" href="">a</a></div>
         </div>
       </div>
     </div>
</div> -->

    <!-- Controls -->
    <!-- <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a> -->
  </div>

<style>
  h1 {
    font-weight: 200;
    font-size: 70px;
    text-shadow: 1px 1px #000000;
  }

  h3 {
    text-shadow: 1px 1px #000000;
  }

  button {
    color: black;
    margin-bottom: 5px;
  }

  input {
    color: black;
    margin-bottom: 5px;
    text-align: center;
  }
  .col-centered {
      display:inline-block;
      float:none;
      text-align: center;
  }
  .event-results {
    text-align: center;
    color: white;
    background-color: black;
    opacity: 0.8;
    font-size: 18px;
    width: 90%;
    margin: 0 auto;
    list-style: none;
    border-radius: 10px;
    padding: 0;
    margin-top: 10px;
  }
  .carousel-inner>img{
    width: 100%;
    margin: 0 auto;
  }
  .mainPitch {
    width: 100%;
    color: white;
    font-family: 'Avenir';
    text-align: center;
    position: absolute;
    top: 80px;
  }
  #carousel-example-generic{
    width: 100%;
    text-align: center;
  }
</style>

<script type="text/javascript">
  //submit button
  $('#showResults').on('click',function(evt){
    //empty the list in case of additional request
    $('.event-results').empty()
    //set variable for api call uri
    var query = '/api/events/' + $('#location').val() + '/' + $('#radius').val() + '/'
    $.ajax({
			url: query,
			method: 'GET',
			success: function(data){
        data.forEach(function(e){
          var eventSpan = '<span class="event-name">' + e.title + '</span>'
          var dateSpan = '<span class="event-date">' + e.start_time + '</span>'
          var venueSpan = '<span class="event-venue">' + e.venue_name + '</span>'
          var showDetails = '<a id="'+ e.$.id + '" class="show-details" href="/events/' + e.$.id + '" ">Show</a>'
          var li = '<li>' + eventSpan + ' | Date: ' + dateSpan + ' | ' + venueSpan + ' ' + showDetails + '</li>'
          $('.event-results').append(li)
        })
        $('.show-details').on('click', function(evt){
          $.ajax({
            url: '/api/event/single/' + evt.target.id + '/',
            method: 'GET',
            success: function(data){
              console.log(data)
            }
          })
        })
      }
    })
  })
</script>
