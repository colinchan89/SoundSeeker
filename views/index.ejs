<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
      <li data-target="#carousel-example-generic" data-slide-to="1"></li>
      <li data-target="#carousel-example-generic" data-slide-to="2"></li>
    </ol>



    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
      <div class="item active">
        <img src="http://www.hdwallpaperscool.com/wp-content/uploads/2014/09/concert-top-desktop-wallpapers-in-high-resolution-wide-free.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="http://images5.alphacoders.com/349/349660.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="http://www.hdwallpaperscool.com/wp-content/uploads/2014/09/concert-desktop-wallpapers-for-background-full-free.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="http://images4.alphacoders.com/457/4574.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
      <div class="item">
        <img src="https://scontent-lax3-1.xx.fbcdn.net/hphotos-xat1/t31.0-8/12194826_1137571746257159_8804518777305526997_o.jpg" alt="image of concert">
        <div class="carousel-caption">
        </div>
      </div>
    </div>

    <div class="mainPitch" style="position:absolute; top:50px; margin-left: 45%">
        <h1><span class="fa fa-lock"></span>SoundSeeker</h1>
        <h3>Support Local Music</h3>
        <input id="zipcode" type="text">
        <button id="showResults">Submit</button>
        <!-- <div class="container"> -->
          <ul class="event-results"></ul>
        <!-- </div> -->
    </div>

    <!-- <div class="mainPitch" style="position:absolute; top:50px;">
     <div class="container">
       <div class="row">
         <div class="col-xs-6" style="text-align:center;">
           <h1>Reach  out  to  Apartment  Residents</h1>
           <h3>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </h3>
           <div class="mainAction"><a class="btn btn-danger" href="">a</a><a class="btn btn-success" href="">a</a></div>
         </div>
       </div>
     </div>
</div> -->

    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

<style>
  .event-results {
    text-align: left;
  }

  .carousel-inner>img{
    width: 100%;
  }

  #carousel-example-generic{
    width: 100%;
  }


</style>



<script type="text/javascript">
  $('#showResults').on('click',function(evt){
    $('.event-results').empty()
    var query = '/api/events/' + $('#zipcode').val() + '/'
    $.ajax({
			url: query,
			method: 'GET',
			success: function(data){
        data.forEach(function(e){
          var eventSpan = '<span class="event-name">' + e.title + '</span>'
          var dateSpan = '<span class="event-date">' + e.start_time + '</span>'
          var venueSpan = '<span class="event-venue">' + e.venue_name + '</span>'
          // var showDetails = '<a id="'+ e.$.id + '" class="show-details" href="http://api.eventful.com/json/events/get?id=' + e.$.id + '&app_key=tX9rVSJRM96LsCtP">Show</a>'
          var showDetails = '<a id="'+ e.$.id + '" class="show-details" href="/events/' + e.$.id + '" ">Show</a>'
          var li = '<li>' + eventSpan + ' | Date: ' + dateSpan + ' | ' + venueSpan + ' ' + showDetails + '</li>'
          $('.event-results').append(li);
        })
        $('.show-details').on('click', function(evt){
          console.log(evt.target.id)
          $.ajax({
            url: 'api/events/single/' + evt.target.id + '/',
            method: 'GET',
            success: function(data){
              console.log(data)
            }
          })
          // $.ajax({
          //   url: 'http://api.eventful.com/json/events/get?id=' + evt.target.id + '&app_key=tX9rVSJRM96LsCtP',
          //   dataType: 'jsonp',
          //   method: 'GET',
          //   success: function(data){
          //     console.log(data)
          //
          //   }
          // })
        })
      }
    })
  })
</script>
